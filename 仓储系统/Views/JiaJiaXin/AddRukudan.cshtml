
@{
    ViewBag.Title = "AddPage";
    Layout = "~/Views/Home.cshtml";
}
@*@section top{*@
<link href="~/Css1/bootstrap.min.css" rel="stylesheet" />
<link href="~/layui/css/layui.css" rel="stylesheet" />

<style>
    table tr th {
        text-align: center;
    }
</style>
@*}*@
<div style="width:100%;height:30px;border:1px solid #f5f5f5;background-color:#f5f5f5;margin-top:10px;">
    <ul style="margin-top:-15px;margin-left:15px;">
        <li style="list-style:none;display:inline-block;"><a href="#" style="text-decoration:none;color:#016fa7;font-size:13px;">仓库作业 > </a></li>
        <li style="list-style:none;display:inline-block;"><a href="#" style="text-decoration:none;color:#016fa7;font-size:13px;">入库管理 > </a></li>
        <li style="list-style:none;display:inline-block;"><a href="#" style="text-decoration:none;color:#016fa7;font-size:13px;">新增入库</a></li>
    </ul>
    <div style="width:1100px;height:35px;border:1px solid #f5f5f5;background-color:#EFEFEF;margin:0 auto;margin-right:200px;">
        <ul style="display:inline-block;">
            <li style="margin-top:-43px;"><strong style="margin-left:15px;">新增入库单</strong></li>
        </ul>
        <div style="width:1100px;height:450px;border:1px solid #EFEFEF;margin-top:-20px;">
            <div style="width:1080px;height:180px;border:1px solid #808080;margin:0 auto;margin-top:15px;">
                <ul style="list-style:none;margin-top:20px;">
                    <li style="display:inline;font-size:15px;float:left;margin-left:20px;"><strong style="font-size:13px;">入库单编号</strong><input id="txtId" name="InSNum" type="text" style="margin-bottom:20px;" placeholder="可不填，自动生成" /></li>
                    <li style="display:inline;font-size:15px;padding:0;margin-left:20px;">
                        <strong style="font-size:13px;">
                            入库单类型
                        </strong><select id="InSTypeId" style="width:180px;height:25px;" name="InSTypeId">
                            <option>生产产品入库</option>
                        </select>
                    </li>
                    <li style="display:inline;font-size:15px;float:left;margin-left:20px;"><strong style="font-size:13px;">关联订单号</strong><input id="DetailNum" type="text"  name="DetailNum"/></li>
                    <li style="display:inline;font-size:15px;float:right;margin-right:20px;"><strong style="font-size:13px;">制单人</strong><input id="AuditUser" type="text" name="AuditUser"/></li>
                </ul>

                <ul style="list-style:none;margin-top:30px;">
                    <li style="display:inline;font-size:15px;float:left;margin-left:20px;"><strong style="font-size:13px;">供应商编号</strong><input id="SupplierId" type="text" style="margin-bottom:20px;"  name="SupplierId"/></li>
                    <li style="display:inline;font-size:15px;padding:0;margin-left:20px;">
                        <strong style="font-size:13px;">
                            供应商名称
                        </strong><input id="Text1" type="text" />
                    </li>
                    <li style="display:inline;font-size:15px;float:left;margin-left:20px;"><strong style="font-size:13px;">供应联系人</strong><input id="Text2" type="text" /></li>
                    <li style="display:inline;font-size:15px;float:right;margin-right:20px;"><strong style="font-size:13px;">供应联系方式</strong><input id="Text2" type="text" /></li>
                </ul>

                <ul style="list-style:none;margin-top:30px;">
                    <li style="display:inline;font-size:15px;float:left;margin-left:20px;"><strong style="font-size:13px;">制单时间</strong><input id="Text1" type="text" style="margin-bottom:20px; margin-left:10px;" /></li>

                    <li style="display:inline;font-size:15px;padding:0;margin-left:50px;">
                        <strong style="font-size:13px;">
                            备注
                        </strong><input id="Text1" type="text" style="width:500px;margin-left:10px;" />
                    </li>
                </ul>

            </div>
            @*<table class="layui-hide" id="test" style="margin:0 auto;margin-top:20px;"></table>*@
            <table class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <td>产品名称</td>
                        <td>产品条码</td>
                        <td>规格</td>
                        <td>批次</td>
                        <td>单价</td>
                        <td>入库数</td>
                        <td>总价</td>
                        <td>库位</td>
                        <td>操作</td>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <input id="btnAdd" type="button" value="新增产品" class="layui-btn layui-btn-normal" style="margin-left:20px;" onclick="divShow()" />
            <input id="Button2" type="button" value="保存" class="layui-btn layui-btn-normal" />
            <input id="Butto3" type="button" value="取消" class="layui-btn layui-btn-primary" />
        </div>
    </div>
    <div>
    </div>

    <div id="div1" style="display:none;">
        <div style="text-align:center;margin-top:20px;">
            产品编码<input id="Text1" type="text" placeholder="输入关键字搜索" /><br />
            产品名称<input id="Text1" type="text" style="margin-top:15px;" /><br />
            产品规格<input id="Text1" type="text" style="margin-top:15px;" /><br />
            产品单价<input id="Text1" type="text" style="margin-top:15px;" /><br />
            现有库存<input id="Text1" type="text" style="margin-top:15px;" /><br />
            产品批次<input id="Text1" type="text" style="margin-top:15px;" /><br />
            入库库位<input id="Text1" type="text" style="margin-top:15px;" /><br />
            入库数量<input id="Text1" type="text" style="margin-top:15px;" /><br />
            <input id="Button1" type="button" value="确定" class="layui-btn layui-btn-primary layui-btn-sm" style="margin-top:15px;" />
            <input id="Button2" type="button" value="关闭" class="layui-btn layui-btn-primary layui-btn-sm" style="margin-top:15px;" />
        </div>

    </div>
</div>
@*@section foot{*@
<script src="~/Scripts/jquery-3.3.1.min.js"></script>
<script src="~/layer-v3.1.1/layer/layer.js"></script>
<script src="~/layui/layui.js"></script>
<!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
<script>

    layui.use('element', function () {
        var element = layui.element;

        //一些事件监听
        element.on('tab(demo)', function (data) {
            console.log(data);
        });
    });


  

    //页面层
    function divShow() {
        layer.open({
            type: 1,
            skin: 'layui-layer-rim', //加上边框
            title: ['添加产品', 'font-size:15px'],
            area: ['400px', '450px'], //宽高
            content: 'html内容',
            shadeClose: true,
            content: $('#div1')
        });
        $.post('url', {}, function (str) {
            layer.open({
                type: 1,
                content: str
            })
        });
    }



    $("#btnAdd").click(function () {
        var data = $("#form1").serializeArray();
        var obj = {};
        $.each(data, function (a, b) {
            obj[b.name] = b.value;
        });
        var jsons = JSON.stringify(obj);
        $.ajax({
            type: "POST",
            url: "/JiaJiaXin/AddInStorage",          
            data: "{ai:" + jsons + "}",
            dataType: "json",
            contentType: "application/json",
            success: function (result) {
                if (result > 0) {
                    alert("添加成功!");
                    window.location.href = '/AJAXDemo/Index';
                }
            },
            error: function (ex) {
                alert(ex.responseText);
            }
        });
    });









































</script>
@*}*@





