
@{
    ViewBag.Title = "List";
    Layout = "~/Views/Home.cshtml";
}
@*@section top{*@
    <link href="~/Css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/layui/css/layui.css" rel="stylesheet" />
    <style>
        table tr th {
            text-align: center;
        }
    </style>
@*}*@
<div style="width:100%;height:30px;border:1px solid #f5f5f5;background-color:#f5f5f5;">
    <ul style="margin-top:-15px;margin-left:15px;">
        <li style="list-style:none;display:inline-block;"><a href="#" style="text-decoration:none;color:#016fa7;font-size:13px;">基本资料 > </a></li>
        <li style="list-style:none;display:inline-block;"><a href="#" style="text-decoration:none;color:#016fa7;font-size:13px;">产品类别</a></li>
    </ul>
    <div style="width:1100px;height:35px;border:1px solid #f5f5f5;background-color:#EFEFEF;margin:0 auto;">
        <ul style="display:inline-block;">
            <li style="margin-top:-43px;"><strong style="margin-left:15px;">产品类别管理</strong></li>
        </ul>
        <input id="Button1" type="button" value="新增" class="btn btn-primary" style="margin-left:823px;" onclick="divShow()"/>
        <input id="Button2" type="button" value="删除" class="btn btn-danger" />
        <input id="Button3" type="button" value="导出" class="btn btn-info" />
        <div style="width:1100px;height:450px;border:1px solid #EFEFEF;margin-top:-20px;">
            <input id="Text1" type="text" class="text text-danger" placeholder=" 请输入类别或名称" style="width:300px;height:33px;margin-top:21px;margin-left:20px;" />
            <input id="Button4" type="button" value="搜索" class="btn-success" />
        
            <table class="layui-table" style="margin:0 auto;width:850px;margin-top:20px;text-align:center;" id="tb">
                <thead>
                    <tr>
                        <th><input id="Checkbox1" type="checkbox" /></th>
                        <th>类别编号</th>
                        <th>类别名称</th>
                        <th>创建人</th>
                        <th>创建时间</th>
                        <th>备注</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody id="tbody1">
                    @*<tr style="text-align:center;">                      
                        <td>
                            <button type="button" class="layui-btn layui-btn-sm"><i class="layui-icon layui-icon-edit"></i></button>
                            <button type="button" class="layui-btn layui-btn-sm"><i class="layui-icon layui-icon-delete"></i></button>
                        </td>
                    </tr>*@
                </tbody>
            </table>

            <div style="text-align:center;">
                <button type="button" class="layui-btn layui-btn-primary layui-btn-sm" onclick="btnFirst();">首页</button>
                <button type="button" class="layui-btn layui-btn-primary layui-btn-sm" onclick="btnBack();">上一页</button>
                <button type="button" class="layui-btn layui-btn-primary layui-btn-sm" onclick="btnNext();">下一页</button>
                <button type="button" class="layui-btn layui-btn-primary layui-btn-sm" onclick="btnLast();">尾页</button>
            </div>












            <div class="row" id="mypager"></div>
            <div  id="div1" style="display:none;">
                <div style="text-align:center;margin-top:20px;">
                    <span>类别编号<input id="Text1" type="text" placeholder="自动生成，可不填"  style="margin-left:20px;"/></span><br />
                    <span>类别名称<input id="Text2" type="text" placeholder="请输入类别名称" style="margin-left:20px;margin-top:13px;" /></span><br />
                    <span>备注<input id="Text3" type="text"  style="margin-left:45px;margin-top:13px;" /></span><br />
                    <input id="Button1" type="button" value="确定" class="layui-btn layui-btn-primary layui-btn-sm" style="margin-top:15px;margin-left:10px;"/>
                    <input id="Button2" type="button" value="关闭" class="layui-btn layui-btn-primary layui-btn-sm" style="margin-top:15px;margin-left:10px;"/>
                </div>

            </div>
        </div>
    </div>
    <div>
    </div>
</div>
@*@section foot{*@
<script src="~/Scripts/jquery-3.3.1.min.js"></script>
<script src="~/layer-v3.1.1/layer/layer.js"></script>
<script src="~/layui/layui.js"></script>
    <!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
    <script>

        var pageIndex = 1;
        var pageSize = 1;
        var pageCount = 0;

        function btnFirst() {
            pageIndex = 1;
            PageList();
            return false;
        };

        function btnBack() {
            pageIndex--;
            PageList();
            return false;
        };

        function btnNext() {
            pageIndex++;
            PageList();
            return false;
        };

        function btnLast() {
            pageIndex = pageCount;
            PageList();
            return false;
        };

        $(function () {
            PageList();
        });

        function PageList() {
            $.ajax({
                type: "post",
                url: "/JiaJiaXin/GetCategory",
                data: "{pageIndex:'" + pageIndex + "',pageSize:'" + pageSize + "'}",
                dataType: "json",
                contentType: "application/json",
                success: function (result) {
                    pageCount = result.PageCount;
                    $("#tb tr").remove();
                    $.each(result.DataList, function (index, data) {
                        $("#tbody1").append("<tr style='text - align: center;'><td>" + data.Id + "</td><td>" + data.PCateName + "</td><td>" + data.CreateUser + "</td><td>" + data.CreateTime + "</td><td>" + data.Remark + "</td><td> <button type='button' class='layui - btn layui - btn - sm'><i class='layui - icon layui - icon - edit'></i></button><button type='button' class='layui - btn layui - btn - sm'><i class='layui - icon layui - icon - delete'></i></button></td></tr>");
                    });
                }
            });
        }

        //页面层
        function divShow()
        {
            layer.open({
                type: 1,
                skin: 'layui-layer-rim', //加上边框
                title:['添加产品类别','font-size:15px'],
                area: ['420px', '240px'], //宽高
                content: 'html内容',
                shadeClose: true,
                content: $('#div1')
            });
            $.post('url', {}, function (str) {
                layer.open({
                    type:1,
                    content:str
                })
            });
        }
        
             
         
        
            
           
      
    </script>




@*}*@