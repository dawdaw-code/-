
@{
    ViewBag.Title = "buMenGuanLi";
    Layout = "~/Views/Home.cshtml";
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <link href="~/Css1/bootstrap.css" rel="stylesheet" />
    <style>
        #text-1 {
            width: 100%;
            /*height:500px;*/
            /*border: solid 1px red;*/
        }

        a {
            text-decoration: none;
        }

            a:hover {
                text-decoration: underline;
            }

        p {
            margin-top: 20px;
            margin-left: 20px;
            /*border: solid 1px #E9BCB9;*/
            line-height: 0px;
        }

        h5 {
            margin-left: 50px;
            line-height: 0px;
            float: left;
        }

        #text-2 {
            /*border: solid 1px red;*/
            margin-left: 20px;
            /*padding-bottom:20px;*/
            width: 50%;
            /*float: right;*/
        }

        #text-3 {
            /*border: solid 1px blue;*/
            /*margin-left: 20px;*/
            /*padding-bottom:20px;*/
            /*width: 45%;*/
            padding-left: 300px;
            width: 800px;
            margin-left: 700px;
        }

        #Button0 {
            background-color: #2F96B4;
            color: white;
            color: white;
            width: 80px;
            height: 30px;
        }

        #Button1 {
            background-color: #005DCC;
            color: white;
            width: 80px;
            height: 30px;
        }

        #Button2 {
            background-color: #BD362F;
            color: white;
            width: 80px;
            height: 30px;
        }

        #Button3 {
            background-color: #2F96B4;
            color: white;
            width: 80px;
            height: 30px;
        }

        #table1 {
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="text-1">
        <div>
            <p><a href="">首页</a>><a href="">基本资料</a>><a href="">部门管理</a></p>
            <h5>部门管理</h5>
            <div id="text-3">
                <a class="btn btn-primary" href="javascript:void(0)" onclick="Customer.Add()"><i class="icon-pencil"></i>&nbsp;新增</a>
                <a class="btn btn-danger" href="javascript:void(0)" onclick=""><i class="icon-trash"></i>&nbsp;删除</a>
                <a class="btn btn-info" href="javascript:void(0)" onclick=""><i class="icon-download"></i>&nbsp;导出</a>
            </div>

            <div id="text-2">
                <input id="Text1" type="text" /><a id="gritter-remove-all" class="btn btn-info" href="javascript:void(0)" onclick="Customer.PageClick(1)"><i class="icon-search"></i>&nbsp;搜索</a>
            </div>


        </div>
        <table style="width:100%;" class="table table-striped table-bordered table-hover" id="table1">
            <thead>
                <tr>
                    <td><input id="Checkbox1" type="checkbox" name="item" /></td>
                    <td>序号</td>
                    <td>部门名称</td>
                    <td>部门名</td>
                    <td>创建时间</td>
                    <td>操作</td>
                </tr>
            </thead>
            <tbody id="tb1"></tbody>
            @*<tr>
                <td><input id="Checkbox2" type="checkbox" name="item" /></td>
               
            </tr>
            <tr>
                <td><input id="Checkbox3" type="checkbox" name="item" /></td>
                
            </tr>
            <tr>
                <td><input id="Checkbox4" type="checkbox" name="item" /></td>
                
            </tr>
            <tr>
                <td><input id="Checkbox5" type="checkbox" name="item" /></td>
                
            </tr>*@
        </table>
    </div>

</body>
</html>
<script src="~/Scripts/jquery-3.3.1.js"></script>
<script>
    $(function () {
        $("#Checkbox1").click(function () {
            if (this.checked) {
                $("input[name='item']:checkbox").each(function () {
                    $(this).prop("checked", true);
                });
            } else {
                $("input[name='item']:checkbox").each(function () {
                    $(this).prop("checked", false);
                });
            }
        });

        selectByBuMen();
    });

    function selectByBuMen() {
        $.ajax({
            type: "POST",
            url: "/Yangwenjie/selectBuMen",
            data: "{}",
            dataType: "json",
            contentType: "application/json",

            success: function (result) {
                $("#tb1 tr").remove();
                $.each(result, function (index, data) {
                    //alert(data.Id);
                    $("#tb1").append("</tr><td><input id='Checkbox5' type='checkbox' name='item' /></td><td>" + data.Id + "</td><td>" + data.DepartNum + "</td><td>" + data.DepartName + "</td><td>" + data.CreateTime + "</td></tr>");
                });
            },
            //请求失败后的回调函数
            error: function (ex) {
                alert(ex.responseText);
            }
        });
    }
</script>

